language: csharp

# Add build number to version
before_script:
  - sed -ri "s/VersionNumber\((.*), 0\)/VersionNumber(\1, $TRAVIS_BUILD_NUMBER)/g" Oxide.Core/OxideMod.cs

# Build the project
solution: Oxide.sln /p:Configuration=Release

# Perform after compilation/test success
after_success:
  # Set execute permissions and run deployment script
  #- "[[ $TRAVIS_PULL_REQUEST == false ]] && [[ $TRAVIS_REPO_SLUG == OxideMod/Oxide ]] && [[ $TRAVIS_BRANCH == master ]] && ./deploy.sh"

# Notification services
notifications:
  # Disable build status email notifications, until the issue with forks is fixed
  email: false
  # IRC notification
  irc: "chat.freenode.net#oxidemod"

# Environmental system variables
env:
  global:
    # Super secure, encrypted variables! Ssssh!
    - secure: "wa0dK10HZo+JHGoOCM6kluBCoaxZx9a/sdRDw8YgykeEeksMFacNZLZkkcRgg4lXSntMtLs5SVH/dWFWDcQPXzPioq1SqzeZs8jT+iaeHli5PIOe5WbyXsgWQJaTrzK4aSP2WdAB4v43ghrGhW7un/sMW9lWLQa0+Tm8540jKEI="
